
GUI design for Zimbu


Alternatives:

1. Use a portable GUI library.

   Examples are Qt and GTK.

   - Dependency on installed library and runtime.
   - Requires generating glue code.

2. Use native GUI on each platform.

   - Requires a separate port to each platform

3. Use a browser based GUI.  Like GWT (Google Web Toolkit).

   - Requires generating Javascript
   + GUI runs everywhere if there is a browser
   + Also works remotely

Choice: 3.

-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

The main window is created at the specified locaiton.  A browser must then
open this page to make it visible.

Example:

main.zu:
	# This is the server side code.

	IMPORT "mypage.zwt"

	MAIN()
           # Create the ZWT page and the javascript file.
	   HTTP.Server server = NEW(8888)
	   string pageName = "demo.html"
	   ZWT.createPage(server, pageName, MyPage.INFO())

           # Open the ZWT page "http://localhost:8888/demo.html" in a browser
	   SYS.openInBrowser(server, pageName)
	   ZWT.waitForClose()
	}

mypage.zwt:
	# This is the UI code.

	MODULE MyPage IMPLEMENTS ZWT.StartPage
	  PROC init()
	    ZWT.root().add(ZWT.Label.NEW("Hello World!"))
	    ZWT.root().add(ZWT.Button.NEW("Close", close))
	  }

	  PROC close()
	    ZWT.root().clear()
	    ZWT.root().add(ZWT.Label.NEW("Bye bye"))
	    ZWT.close()
	  }
	}

Explanation:

The MAIN() function starts an http server and uses a ZWT method to add the
"start.html" page to it.  ZWT will take care of the details to add this page
to the http server and have it load the Javascript code defined by the MyPage
module.

The MyPage.init() method is the entry function.  It adds label and a
button to the page.

When the button is clicked it invokes the close() method.  This resets the
page to show "Bye bye" and calls the ZWT close function.  This informs the
server that the session is finished and ZWT.waitForClose() returns, the
program exits.
