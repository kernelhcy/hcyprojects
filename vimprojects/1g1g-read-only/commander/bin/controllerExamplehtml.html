<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<title>1gcommander test</title>
		<style type="text/css">
		</style>
	</head>
	<body>
		<script type="text/javascript">
			function get1gCommander(){
				if (navigator.appName.indexOf("Microsoft") != -1) {
					return window["1gCommander"];
				} else {
					return document["1gCommander"];
				}
			}
			var maxOutputLength = 10000;
			function playerEventDispatcher(type, body) {
				
				var output = document.getElementById("info-text");
				
				if(type == "currentSongInfo")
				{
				
				}
				else if(type == "playState")
				{
				
				}
				
				var words = "type: " + type + ", body: " + body.toJSON();
				var newValue = words + '\n' + output.value;
				output.value = (newValue.length > maxOutputLength) ? newValue.substring(0, maxOutputLength) : newValue;
			} 
			function open1g1gPlayer()
			{
				window.open()
			}
			
			function onPlayPauseBtnClick()
			{
				if(get1gCommander().command("is1g1gPlayerOpen"))
				{
					get1gCommander().command("playPause");
				}
				else
				{
					open1g1gPlayer();
				}
			}
			funciton onNextBtnClick()
			{
				if(get1gCommander().command("is1g1gPlayerOpen"))
				{
					get1gCommander().command("next");
				}
				else
				{
					open1g1gPlayer();
				}
			}
		</script>

		<p><a onclick="javascript:get1gCommander().command('play','矜持-王菲');">♫ 矜持-王菲</a></p>
		<p><a onclick="javascript:get1gCommander().command('next');">下一首</a></p>
		<p><a onclick="javascript:get1gCommander().command('playPause');">播放/暂停</a></p>
		<p><a onclick="javascript:get1gCommander().command('volumeOnOff');">静音</a></p>
		<p><a onclick="javascript:alert('是否打开了亦歌播放器: ' + (get1gCommander().command('is1g1gPlayerOpen')));">是否打开了亦歌播放器</a></p>
		<p>			
		<textarea id="output" style="width:100%;height:300px" readonly="true" onKeyDown="if (event.keyCode == 13) this.value = 'Cleared. (Press enter to clear.)'">playerEventDispatcher() shows here. Press enter to clear.</textarea>
		</p>
		<div id="1g1g-controller" style="width:300px; height:24px">
			<table>
				<tr>
					<td>
						<img src="1g1g-controller-asset.png" onclick="javascript:onPlayPauseBtnClick()" alt="播放/暂停" />
					</td>
					<td>
						<img src="1g1g-controller-asset.png" onclick="javascript:onNextBtnClick()" alt="下一首" />
					</td>
					<td>
						播放歌曲
					</td>
				</tr>
			</table>
		</div>

		<div style="width:0;height:0;">
			<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="1gCommander">
				<param name="bgcolor" value="#333333" />
				<param name="movie" value="http://commander.1g1g.com/commander.swf"/>
				<param name="menu" value="false" />
				<param name="allowScriptAccess" value ="always" />
				<EMBED src="http://commander.1g1g.com/commander.swf" allowScriptAccess="always" menu="false" quality="high" bgcolor="#FFFFFF" width="100%" height="100%" name="1gCommander"  type="application/x-shockwave-flash" PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer" />
			</object>
		</div>

	</body>
</html>